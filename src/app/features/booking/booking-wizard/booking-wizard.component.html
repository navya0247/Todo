<div class="wizard-container">
    <!-- Stepper Header -->
    <div class="stepper-header">
        <div class="step-item" [class.active]="currentStep >= 1" [class.completed]="currentStep > 1">
            <div class="step-circle">1</div>
            <span class="step-label">Expert</span>
        </div>
        <div class="step-line" [class.filled]="currentStep > 1"></div>

        <div class="step-item" [class.active]="currentStep >= 2" [class.completed]="currentStep > 2">
            <div class="step-circle">2</div>
            <span class="step-label">Slot</span>
        </div>
        <div class="step-line" [class.filled]="currentStep > 2"></div>

        <div class="step-item" [class.active]="currentStep >= 3" [class.completed]="currentStep > 3">
            <div class="step-circle">3</div>
            <span class="step-label">Address</span>
        </div>
        <div class="step-line" [class.filled]="currentStep > 3"></div>

        <div class="step-item" [class.active]="currentStep >= 4">
            <div class="step-circle">4</div>
            <span class="step-label">Pay</span>
        </div>
    </div>

    <!-- Step Content -->
    <div class="step-content">
        <div class="step-title-row">
            <button *ngIf="currentStep > 1" (click)="prevStep()" class="back-btn">‚Üê Back</button>
            <h2>
                <span *ngIf="currentStep === 1">Select {{ serviceName }} Expert</span>
                <span *ngIf="currentStep === 2">Select Time Slot</span>
                <span *ngIf="currentStep === 3">Select Address</span>
                <span *ngIf="currentStep === 4">Summary & Payment</span>
            </h2>
        </div>

        <!-- Dynamic Steps -->
        <app-step-expert *ngIf="currentStep === 1" [service]="service" (expertSelected)="onExpertSelected($event)">
        </app-step-expert>

        <app-step-slot *ngIf="currentStep === 2" (slotSelected)="onSlotSelected($event)">
        </app-step-slot>

        <app-step-address *ngIf="currentStep === 3" (addressSelected)="onAddressSelected($event)">
        </app-step-address>

        <app-step-summary *ngIf="currentStep === 4" [expert]="selectedExpert" [slot]="selectedSlot"
            [address]="selectedAddress" [service]="service" (confirm)="onConfirmBooking($event)">
        </app-step-summary>
    </div>
</div>